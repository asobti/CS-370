--- drivers/usb/host/ohci-pci.c
+++ drivers/usb/host/ohci-pci.c
@@ -18,6 +18,10 @@
 #error "This file is PCI bus glue.  CONFIG_PCI must be defined."
 #endif
 
+#ifdef	CONFIG_KDB_USB
+#include <linux/kdb.h>
+#endif
+
 /*-------------------------------------------------------------------------*/
 
 static int broken_suspend(struct usb_hcd *hcd)
@@ -199,6 +203,12 @@
 		ohci_err (ohci, "can't start\n");
 		ohci_stop (hcd);
 	}
+#ifdef	CONFIG_KDB_USB
+	if (ret >= 0) {
+		kdb_usb_infos.poll_func = ohci_kdb_poll;
+		kdb_usb_infos.uhci = NULL; /* not used */
+	}
+#endif
 	return ret;
 }
 
